(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{92:function(e,t,c){},93:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),n=c(20),s=c.n(n),i=c(2),o=c(6),l=c(3),d=c(9),j=c(17),u=c(5),b=c.n(u),h=c(10),p=c(11),O=c.n(p),x="PRODUCT_LIST_REQUEST",m="PRODUCT_LIST_SUCCESS",v="PRODUCT_LIST_FAIL",g="PRODUCT_DETAILS_REQUEST",f="PRODUCT_DETAILS_SUCCESS",y="PRODUCT_DETAILS_FAIL",N="PRODUCT_CATEGORY_LIST_REQUEST",S="PRODUCT_CATEGORY_LIST_SUCCESS",E="PRODUCT_CATEGORY_LIST_FAIL",w=function(e){var t=e.pageNumber,c=void 0===t?"":t,r=e.name,a=void 0===r?"":r,n=e.category,s=void 0===n?"":n,i=e.order,o=void 0===i?"":i,l=e.min,d=void 0===l?0:l,j=e.max,u=void 0===j?0:j,p=e.rating,g=void 0===p?0:p,f=e.pageSize,y=void 0===f?"":f;return function(){var e=Object(h.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:x}),e.prev=1,e.next=4,O.a.get("/api/products?pageSize=".concat(y,"&pageNumber=").concat(c,"&name=").concat(a,"&category=").concat(s,"&min=").concat(d,"&max=").concat(u,"&rating=").concat(g,"&order=").concat(o));case 4:r=e.sent,n=r.data,t({type:m,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:v,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},I=c(0);function R(){return Object(I.jsxs)("div",{className:"loading",children:[Object(I.jsx)("i",{className:"fa fa-spinner fa-spin"})," Loading..."]})}var _=function(){return Object(I.jsxs)("div",{className:"loading-overlay",children:[Object(I.jsx)("i",{className:"fa fa-spinner fa-spin"})," loading..."]})};function C(e){return Object(I.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})}function P(e){var t=e.rating,c=e.numReviews,r=e.showNumReviews,a=void 0===r||r;return Object(I.jsxs)("div",{className:"rating",children:[Array.from(Array(5)).map((function(e,c){return Object(I.jsx)("span",{children:Object(I.jsx)("i",{className:t>=c+1?"fa fa-star":t>=c+.5?"fas fa-star-half-alt":"fa fa-star not-filled"})},c)})),a&&Object(I.jsx)("span",{className:"reviews",children:"".concat(c," reviews ")})]})}function T(e){var t=e.toFixed(2),c=String(t).replace(".",",");return"R$ ".concat(c)}function A(e){var t=Object(i.c)((function(e){return e.productDetails})),c=t.loading,a=t.error,n=t.product,s=Object(i.b)(),d=e.match.params.id,u=Object(r.useState)(1),p=Object(o.a)(u,2),x=p[0],m=p[1];Object(r.useEffect)((function(){s(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(c){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:g,payload:e}),t.prev=1,t.next=4,O.a.get("/api/products/".concat(e));case 4:r=t.sent,a=r.data,c({type:f,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c({type:y,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(d))}),[s,d]);return Object(I.jsx)("div",{children:c?Object(I.jsx)(_,{}):a?Object(I.jsx)(C,{variant:"danger",children:a}):Object(I.jsxs)("div",{className:"paper",children:[Object(I.jsx)(l.b,{to:"/",children:"Voltar"}),Object(I.jsxs)("div",{className:"row top",children:[Object(I.jsx)("div",{className:"col-2 row center",children:Object(I.jsx)("img",{className:"large",src:n.image,alt:n.name})}),Object(I.jsx)("div",{className:"col-1",children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsx)("h1",{className:"font-3 weight-700",children:n.name})}),Object(I.jsx)("li",{children:Object(I.jsx)(P,{rating:n.rating,numReviews:n.numReviews})}),Object(I.jsxs)("li",{children:[Object(I.jsx)("span",{className:"highlight",children:"Pre\xe7o :"})," ",T(n.price)]}),Object(I.jsxs)("li",{children:[Object(I.jsx)("span",{className:"highlight",children:"Descri\xe7\xe3o :"}),Object(I.jsx)("p",{children:n.description})]})]})}),Object(I.jsx)("div",{className:"col-1",children:Object(I.jsx)("div",{className:"card-simple",children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Pre\xe7o: "}),Object(I.jsx)("div",{className:"price",children:T(n.price)})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Status: "}),Object(I.jsx)("div",{children:n.countInStock>0?Object(I.jsx)("span",{className:"success",children:"No estoque"}):Object(I.jsx)("span",{className:"danger",children:"Em falta"})})]})}),n.countInStock>0&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Qtd: "}),Object(I.jsx)("div",{children:Object(I.jsx)("select",{value:x,onChange:function(e){return m(e.target.value)},children:Object(j.a)(Array(n.countInStock).keys()).map((function(e){return Object(I.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(I.jsx)("li",{children:Object(I.jsx)("button",{onClick:function(){e.history.push("/cart/".concat(d,"?qty=").concat(x))},className:"primary hover block",children:"Adicionar no Carrinho"})})]})]})})})]})]})})}function D(e){var t=e.product;return Object(I.jsx)(l.b,{to:"/product/".concat(t._id),children:Object(I.jsxs)("div",{className:"card",children:[Object(I.jsx)("div",{className:"card-header",children:Object(I.jsx)("img",{className:"medium",src:t.image,alt:"procuct"})}),Object(I.jsxs)("div",{className:"card-body",children:[Object(I.jsx)("h2",{className:"card-title",children:t.name}),Object(I.jsx)(P,{rating:t.rating,showNumReviews:!1,numReviews:t.numReviews}),Object(I.jsx)("div",{className:"price",children:T(t.price)})]})]},t._id)})}var k=c(7),L=(c(42),c(43),c(28)),U=c.n(L),F={dots:!0,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,centerMode:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0,centerMode:!1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:1,centerMode:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!1}}]};var M=function(e){var t=e.products;return Object(I.jsx)("div",{className:"row center carousel",children:Object(I.jsx)(U.a,Object(k.a)(Object(k.a)({},F),{},{children:t.map((function(e){return Object(I.jsx)("div",{children:Object(I.jsx)(D,{product:e})})}))}))})},q=c.p+"static/media/Livros.64ab2053.mp4",Q=c.p+"static/media/hqs.4dc26163.jpg",G=c.p+"static/media/mangas.8924b95c.jpg",$={dots:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,speed:2e3,autoplaySpeed:5e3,autoplay:!0};var z=function(){return Object(I.jsx)("div",{className:"row center carousel",children:Object(I.jsxs)(U.a,Object(k.a)(Object(k.a)({},$),{},{children:[Object(I.jsx)("div",{className:"carousel-container",children:Object(I.jsx)(l.b,{to:"/search/category/livros",children:Object(I.jsx)("video",{className:"w-full",autoPlay:!0,loop:!0,src:q,alt:"hqs"})})}),Object(I.jsx)("div",{className:"carousel-container",children:Object(I.jsx)(l.b,{to:"/search/category/hqs",children:Object(I.jsx)("img",{className:"w-full",src:Q,alt:"hqs"})})}),Object(I.jsx)("div",{className:"carousel-container",children:Object(I.jsx)(l.b,{to:"/search/category/mang\xe1s",children:Object(I.jsx)("img",{className:"w-full",src:G,alt:"mang\xe1s"})})})]}))})},B=c(31);function J(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.productList})),c=t.loading,a=t.error,n=t.products;return console.log(n),Object(r.useEffect)((function(){e(w({pageSize:20}))}),[e]),Object(I.jsx)("div",{children:c?Object(I.jsx)(_,{}):a?Object(I.jsx)(C,{variant:"danger",children:a}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{children:Object(I.jsx)(z,{})}),Object(I.jsxs)("div",{className:"container py-3",children:[Object(I.jsx)("h2",{className:"session-title",children:"Livros"}),Object(I.jsx)(M,{products:n.filter((function(e){return"livros"===e.category}))})]}),Object(I.jsxs)("div",{className:"container py-3",children:[Object(I.jsx)("h2",{className:"session-title",children:"HQs"}),Object(I.jsx)(M,{products:n.filter((function(e){return"hqs"===e.category}))})]}),Object(I.jsxs)("div",{className:"container py-3",children:[Object(I.jsx)("h2",{className:"session-title",children:"Mang\xe1s"}),Object(I.jsx)(M,{products:n.filter((function(e){return"mang\xe1s"===e.category}))})]})]})})}var Y="CART_ADD_ITEM",H="CART_REMOVE_ITEM",V="CART_SAVE_SHIPPING_ADDRESS",X="CART_SAVE_PAYMENT_METHOD",K="CART_EMPTY",W=function(e,t){return function(){var c=Object(h.a)(b.a.mark((function c(r,a){var n,s;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,O.a.get("/api/products/".concat(e));case 2:n=c.sent,s=n.data,r({type:Y,payload:{name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,product:s._id,qty:t}}),localStorage.setItem("cartItem",JSON.stringify(a().cart.cartItem));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},Z=function(e){return function(t){t({type:V,payload:e}),localStorage.setItem("shippingAddress",JSON.stringify(e))}};function ee(e){var t=e.match.params.id,c=e.location.search?Number(e.location.search.split("=")[1]):1,a=Object(i.c)((function(e){return e.cart})).cartItems,n=Object(i.b)();Object(r.useEffect)((function(){t&&n(W(t,c))}),[n,t,c]);var s=function(e){n(function(e){return function(t,c){t({type:H,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(e))};return Object(I.jsxs)("div",{className:"row top",children:[Object(I.jsxs)("div",{className:"col-2",children:[Object(I.jsx)("h1",{children:"Carrinho"}),0===a.length?Object(I.jsxs)(C,{children:["O carrinho est\xe1 vazio.",Object(I.jsx)(l.b,{to:"/",children:"Ir para a loja"})]}):Object(I.jsx)("ul",{children:a.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:Object(I.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(I.jsx)("div",{className:"min-30",children:Object(I.jsx)(l.b,{to:"/product/".concat(e.product),children:e.name})}),Object(I.jsx)("div",{children:Object(I.jsx)("select",{value:e.qty,onChange:function(t){return n(W(e.product,Number(t.target.value)))},children:Object(j.a)(Array(e.countInStock).keys()).map((function(e){return Object(I.jsx)("option",{value:e+1,children:e+1})}))})}),Object(I.jsx)("div",{children:T(e.price)}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"button",onClick:function(){return s(e.product)},children:"Deletar"})})]})},e.product)}))})]}),Object(I.jsx)("div",{className:"col-1 p-1",children:Object(I.jsx)("div",{className:"card-simple paper",children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsxs)("h2",{children:["Total (",a.reduce((function(e,t){return e+t.qty}),0)," items):",T(a.reduce((function(e,t){return e+t.price*t.qty}),0))]})}),Object(I.jsx)("li",{children:Object(I.jsx)("button",{type:"button",onClick:function(){e.history.push("/signin?redirect=shipping")},className:"hover  block",disabled:0===a.length,children:"Fazer o check-out"})})]})})})]})}var te="USER_SIGNIN_REQUEST",ce="USER_SIGNIN_SUCCESS",re="USER_SIGNIN_FAIL",ae="USER_REGISTER_REQUEST",ne="USER_REGISTER_SUCCESS",se="USER_REGISTER_FAIL",ie="USER_SIGNOUT",oe="USER_DETAILS_REQUEST",le="USER_DETAILS_SUCCESS",de="USER_DETAILS_FAIL",je="USER_UPDATE_PROFILE_REQUEST",ue="USER_UPDATE_PROFILE_SUCCESS",be="USER_UPDATE_PROFILE_FAIL",he="USER_UPDATE_PROFILE_RESET";function pe(e){var t=Object(r.useState)(""),c=Object(o.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(""),d=Object(o.a)(s,2),j=d[0],u=d[1],p=e.location.search?e.location.search.split("=")[1]:"/",x=Object(i.c)((function(e){return e.userSignin})),m=x.userInfo,v=x.loading,g=x.error,f=Object(i.b)();return Object(r.useEffect)((function(){m&&e.history.push(p)}),[e.history,p,m]),Object(I.jsx)("div",{children:Object(I.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),f(function(e,t){return function(){var c=Object(h.a)(b.a.mark((function c(r){var a,n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:te,payload:{email:e,password:t}}),c.prev=1,c.next=4,O.a.post("/api/users/signin",{email:e,password:t});case 4:a=c.sent,n=a.data,r({type:ce,payload:n}),localStorage.setItem("userInfo",JSON.stringify(n)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r({type:re,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(a,j))},children:[Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"Login"})}),v&&Object(I.jsx)(R,{}),g&&Object(I.jsx)(C,{variant:"danger",children:g}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"email",children:"Email"}),Object(I.jsx)("input",{type:"email",id:"email",placeholder:"Digite o endere\xe7o de email",required:!0,onChange:function(e){return n(e.target.value)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"email",children:"Senha"}),Object(I.jsx)("input",{type:"password",id:"password",placeholder:"Digite a senha",required:!0,onChange:function(e){return u(e.target.value)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{}),Object(I.jsx)("button",{className:"primary",type:"submit",children:"Entrar"})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{}),Object(I.jsxs)("div",{children:["Novo cliente?",Object(I.jsx)(l.b,{to:"/register?redirect=".concat(p),children:" Criar nova conta"})]})]})]})})}function Oe(e){var t=Object(r.useState)(""),c=Object(o.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(""),d=Object(o.a)(s,2),j=d[0],u=d[1],p=Object(r.useState)(""),x=Object(o.a)(p,2),m=x[0],v=x[1],g=Object(r.useState)(""),f=Object(o.a)(g,2),y=f[0],N=f[1],S=e.location.search?e.location.search.split("=")[1]:"/",E=Object(i.c)((function(e){return e.userRegister})),w=E.userInfo,_=E.loading,P=E.error,T=Object(i.b)();return Object(r.useEffect)((function(){w&&e.history.push(S)}),[e.history,S,w]),Object(I.jsx)("div",{children:Object(I.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),m!==y?alert("Password and confirm password are not match"):T(function(e,t,c){return function(){var r=Object(h.a)(b.a.mark((function r(a){var n,s;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:ae,payload:{name:e,email:t,password:c}}),r.prev=1,r.next=4,O.a.post("/api/users/register",{name:e,email:t,password:c});case 4:n=r.sent,s=n.data,a({type:ne,payload:s}),a({type:ce,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),a({type:se,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e){return r.apply(this,arguments)}}()}(j,a,m))},children:[Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"Criar conta"})}),_&&Object(I.jsx)(R,{}),P&&Object(I.jsx)(C,{variant:"danger",children:P}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"name",children:"Nome"}),Object(I.jsx)("input",{type:"text",id:"name",placeholder:"Digite o seu nome",required:!0,onChange:function(e){return u(e.target.value)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"email",children:"Email"}),Object(I.jsx)("input",{type:"email",id:"email",placeholder:"Digite o seu email",required:!0,onChange:function(e){return n(e.target.value)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"password",children:"Senha"}),Object(I.jsx)("input",{type:"password",id:"password",placeholder:"Digite a sua senha",required:!0,onChange:function(e){return v(e.target.value)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"confirmPassword",children:"Confirme a Senha"}),Object(I.jsx)("input",{type:"password",id:"confirmPassword",placeholder:"Digite a sua senha novamente",required:!0,onChange:function(e){return N(e.target.value)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{}),Object(I.jsx)("button",{className:"primary",type:"submit",children:"Registrar"})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{}),Object(I.jsxs)("div",{children:["J\xe1 possu\xed uma conta?",Object(I.jsx)(l.b,{to:"/signin?redirect=".concat(S),children:" Entrar"})]})]})]})})}function xe(e){return Object(I.jsxs)("div",{className:"row checkout-steps",children:[Object(I.jsx)("div",{className:e.step1?"active":"",children:"Login"}),Object(I.jsx)("div",{className:e.step2?"active":"",children:"Envio"}),Object(I.jsx)("div",{className:e.step3?"active":"",children:"Pagamento"}),Object(I.jsx)("div",{className:e.step4?"active":"",children:"Fa\xe7a a encomenda"})]})}function me(e){var t=Object(i.c)((function(e){return e.userSignin})).userInfo,c=Object(i.c)((function(e){return e.cart})).shippingAddress;t||e.history.push("/signin");var a=Object(r.useState)(c.fullName),n=Object(o.a)(a,2),s=n[0],l=n[1],d=Object(r.useState)(c.address),j=Object(o.a)(d,2),u=j[0],b=j[1],h=Object(r.useState)(c.city),p=Object(o.a)(h,2),O=p[0],x=p[1],m=Object(r.useState)(c.postalCode),v=Object(o.a)(m,2),g=v[0],f=v[1],y=Object(r.useState)(c.country),N=Object(o.a)(y,2),S=N[0],E=N[1],w=Object(i.b)(Z());return Object(I.jsxs)("div",{children:[Object(I.jsx)(xe,{step1:!0,step2:!0}),Object(I.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),w(Z({fullName:s,address:u,city:O,postalCode:g,country:S})),e.history.push("/payment")},children:[Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"Endere\xe7o para envio"})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"fullName",children:"Nome completo"}),Object(I.jsx)("input",{type:"text",id:"fullName",placeholder:"Digite o seu nome completo",value:s,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"address",children:"Endere\xe7o"}),Object(I.jsx)("input",{type:"text",id:"address",placeholder:"Digite o seu endere\xe7o",value:u,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"city",children:"Cidade"}),Object(I.jsx)("input",{type:"text",id:"city",placeholder:"Digite a sua cidade",value:O,onChange:function(e){return x(e.target.value)},required:!0})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"postalCode",children:"C\xf3digo postal"}),Object(I.jsx)("input",{type:"text",id:"postalCode",placeholder:"Digite o seu c\xf3digo postal",value:g,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"country",children:"Pa\xeds"}),Object(I.jsx)("input",{type:"text",id:"country",placeholder:"Digite o seu pa\xeds",value:S,onChange:function(e){return E(e.target.value)},required:!0})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("lavel",{}),Object(I.jsx)("button",{className:"primary",type:"submit",children:"Continue"})]})]})]})}function ve(e){Object(i.c)((function(e){return e.cart})).shippingAddress.address||e.history.push("/shipping");var t=Object(r.useState)("PayPal"),c=Object(o.a)(t,2),a=c[0],n=c[1],s=Object(i.b)();return Object(I.jsxs)("div",{children:[Object(I.jsx)(xe,{step1:!0,step2:!0,step3:!0}),Object(I.jsxs)("form",{className:"form",onSubmit:function(t){var c;t.preventDefault(),s((c=a,function(e){e({type:X,payload:c})})),e.history.push("/placeorder")},children:[Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"M\xe9todo de pagamento"})}),Object(I.jsx)("div",{children:Object(I.jsxs)("div",{children:[Object(I.jsx)("input",{type:"radio",id:"paypal",value:"PayPal",name:"paymentMethod",required:!0,checked:!0,onChange:function(e){return n(e.target.value)}}),Object(I.jsx)("label",{htmlFor:"paypal",children:"PayPal"})]})}),Object(I.jsx)("div",{children:Object(I.jsxs)("div",{children:[Object(I.jsx)("input",{type:"radio",id:"stripe",value:"Stripe",name:"paymentMethod",required:!0,onChange:function(e){return n(e.target.value)}}),Object(I.jsx)("label",{htmlFor:"stripe",children:"Stripe"})]})}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{className:"primary",type:"submit",children:"Continue"})})]})]})}var ge="ORDER_CREATE_REQUEST",fe="ORDER_CREATE_SUCCESS",ye="ORDER_CREATE_FAIL",Ne="ORDER_CREATE_RESET",Se="ORDER_PAY_REQUEST",Ee="ORDER_PAY_SUCCESS",we="ORDER_PAY_FAIL",Ie="ORDER_PAY_RESET",Re="ORDER_DETAILS_REQUEST",_e="ORDER_DETAILS_SUCCESS",Ce="ORDER_DETAILS_FAIL",Pe="ORDER_MINE_LIST_REQUEST",Te="ORDER_MINE_LIST_SUCCESS",Ae="ORDER_MINE_LIST_FAIL";function De(e){var t=Object(i.c)((function(e){return e.cart}));t.paymentMethod||prompt.history.push("/payment");var c=Object(i.c)((function(e){return e.orderCreate})),a=c.loading,n=c.success,s=c.error,o=c.order,d=function(e){return Number(e.toFixed(2))};t.itemsPrice=d(t.cartItems.reduce((function(e,t){return e+t.qty*t.price}),0)),t.shippingPrice=t.itemsPrice>100?d(0):d(10),t.taxPrice=d(.15*t.itemsPrice),t.totalPrice=t.itemsPrice+t.shippingPrice+t.taxPrice;var j=Object(i.b)();return Object(r.useEffect)((function(){n&&(e.history.push("/order/".concat(o._id)),j({type:Ne}))}),[j,o,e.history,n]),Object(I.jsxs)("div",{children:[Object(I.jsx)(xe,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(I.jsxs)("div",{className:"row top",children:[Object(I.jsx)("div",{className:"col-2  p-1",children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"card-simple paper flex column m-all",children:[Object(I.jsx)("h2",{children:"Envio"}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"Nome: "})," ",t.shippingAddress.fullName]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"Endere\xe7o: "}),t.shippingAddress.address,",",t.shippingAddress.city,","," ",t.shippingAddress.postalCode,",",t.shippingAddress.country]})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"card-simple paper flex column m-all",children:[Object(I.jsx)("h2",{children:"Pagamento"}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"M\xe9todo: "})," ",t.paymentMethod]})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"card-simple paper flex column  m-all",children:[Object(I.jsx)("h2",{children:"Lista de itens"}),Object(I.jsx)("ul",{children:t.cartItems.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:Object(I.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(I.jsx)("div",{className:"min-30",children:Object(I.jsx)(l.b,{to:"/product/".concat(e.product),children:e.name})}),Object(I.jsxs)("div",{children:[e.qty," x ",T(e.price)," = ",T(e.qty*e.price)]})]})},e.product)}))})]})})]})}),Object(I.jsx)("div",{className:"col-1 p-1",children:Object(I.jsx)("div",{className:"card-simple paper flex column",children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsx)("h2",{children:"Resumo do pedido"})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Itens"}),Object(I.jsx)("div",{children:T(t.itemsPrice)})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Envio"}),Object(I.jsx)("div",{children:T(t.shippingPrice)})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Taxa"}),Object(I.jsx)("div",{children:T(t.taxPrice)})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Total"}),Object(I.jsx)("div",{children:Object(I.jsx)("strong",{children:T(t.totalPrice)})})]})}),Object(I.jsx)("li",{children:Object(I.jsx)("button",{type:"button",onClick:function(){j(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(c,r){var a,n,s,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:ge,payload:e}),t.prev=1,a=r(),n=a.userSignin.userInfo,t.next=5,O.a.post("/api/orders",e,{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:s=t.sent,i=s.data,c({type:fe,payload:i.order}),c({type:K}),localStorage.removeItem("cartItems"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),c({type:ye,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,c){return t.apply(this,arguments)}}()}(Object(k.a)(Object(k.a)({},t),{},{orderItems:t.cartItems})))},className:"hover block",disabled:0===t.cartItems.length,children:"Fa\xe7a a encomenda"})}),a&&Object(I.jsx)(R,{}),s&&Object(I.jsx)(C,{variant:"danger",children:s})]})})})]})]})}var ke=c(47);function Le(e){var t=e.match.params.id,c=Object(r.useState)(!1),a=Object(o.a)(c,2),n=a[0],s=a[1],d=Object(i.c)((function(e){return e.orderDetails})),j=d.order,u=d.loading,p=d.error,x=Object(i.b)(),m=Object(i.c)((function(e){return e.orderPay})),v=m.loading,g=m.error,f=m.success;Object(r.useEffect)((function(){var e=function(){var e=Object(h.a)(b.a.mark((function e(){var t,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/config/paypal");case 2:t=e.sent,c=t.data,(r=document.createElement("script")).type="text/javascript",r.src="https://www.paypal.com/sdk/js?client-id=".concat(c),r.async=!0,r.onload=function(){s(!0)},document.body.appendChild(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!j||f||j&&j._id!==t?(x({type:Ie}),x(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(c,r){var a,n,s,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:ge,payload:e}),a=r(),n=a.userSignin.userInfo,t.prev=2,t.next=5,O.a.get("/api/orders/".concat(e),{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:s=t.sent,i=s.data,c({type:_e,payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,c({type:ye,payload:o});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,c){return t.apply(this,arguments)}}()}(t))):j.isPaid||(window.paypal?s(!0):e())}),[x,j,t,n,f]);return u?Object(I.jsx)(R,{}):p?Object(I.jsx)(C,{varient:"danger",children:p}):Object(I.jsxs)("div",{children:[Object(I.jsxs)("h1",{children:["Order ",j._id]}),Object(I.jsxs)("div",{className:"row top",children:[Object(I.jsx)("div",{className:"col-2 p-1",children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"card-simple paper flex column m-all",children:[Object(I.jsx)("h2",{children:"Envio"}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"Nome: "})," ",j.shippingAddress.fullName]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"Endere\xe7o: "}),j.shippingAddress.address,",",j.shippingAddress.city,", ",j.shippingAddress.postalCode,",",j.shippingAddress.country]}),j.isDelivered?Object(I.jsxs)(C,{variant:"success",children:["Entregue em ",j.deliveredAt]}):Object(I.jsx)(C,{variant:"danger",children:"N\xe3o entregue"})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"card-simple paper flex column m-all",children:[Object(I.jsx)("h2",{children:"Pagamento"}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"M\xe9todo: "})," ",j.paymentMethod]}),j.isPaid?Object(I.jsxs)(C,{variant:"success",children:["Pago em ",j.paidAt]}):Object(I.jsx)(C,{variant:"danger",children:"N\xe3o pago"})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"card-simple paper flex column m-all",children:[Object(I.jsx)("h2",{children:"Lista de itens"}),Object(I.jsx)("ul",{children:j.orderItems.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:Object(I.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(I.jsx)("div",{className:"min-30",children:Object(I.jsx)(l.b,{to:"/product/".concat(e.product),children:e.name})}),Object(I.jsxs)("div",{children:[e.qty," x R$ ",e.price," = R$ ",e.qty*e.price]})]})},e.product)}))})]})})]})}),Object(I.jsx)("div",{className:"col-1 p-1",children:Object(I.jsx)("div",{className:"card-simple paper flex column m-all",children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsx)("h2",{children:"Pedido"})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Itens"}),Object(I.jsxs)("div",{children:["R$ ",j.itemsPrice.toFixed(2)]})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Envio"}),Object(I.jsxs)("div",{children:["R$ ",j.shippingPrice.toFixed(2)]})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Taxa"}),Object(I.jsxs)("div",{children:["R$ ",j.taxPrice.toFixed(2)]})]})}),Object(I.jsx)("li",{children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{children:"Pre\xe7o total"}),Object(I.jsx)("div",{children:Object(I.jsxs)("strong",{children:["R$ ",j.totalPrice.toFixed(2)]})})]})}),!j.isPaid&&Object(I.jsx)("li",{children:n?Object(I.jsxs)(I.Fragment,{children:[g&&Object(I.jsx)(C,{variant:"danger",children:g}),v&&Object(I.jsx)(R,{}),Object(I.jsx)(ke.PayPalButton,{amount:j.totalPrice,onSuccess:function(e){x(function(e,t){return function(){var c=Object(h.a)(b.a.mark((function c(r,a){var n,s,i,o,l;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:Se,payload:{order:e,paymentResult:t}}),n=a(),s=n.userSignin.userInfo,c.prev=2,c.next=5,O.a.put("/api/orders/".concat(e._id,"/pay"),t,{headers:{Authorization:"Bearer ".concat(s.token)}});case 5:i=c.sent,o=i.data,r({type:Ee,payload:o}),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(2),l=c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message,r({type:we,payload:l});case 14:case"end":return c.stop()}}),c,null,[[2,10]])})));return function(e,t){return c.apply(this,arguments)}}()}(j,e))}})]}):Object(I.jsx)(R,{})})]})})})]})]})}function Ue(e){var t=Object(i.c)((function(e){return e.orderMineList})),c=t.loading,a=t.error,n=t.orders,s=Object(i.b)();return Object(r.useEffect)((function(){s(function(){var e=Object(h.a)(b.a.mark((function e(t,c){var r,a,n,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Pe}),r=c(),a=r.userSignin.userInfo,e.prev=2,e.next=5,O.a.get("/api/orders/mine",{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:n=e.sent,s=n.data,t({type:Te,payload:s}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:Ae,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,c){return e.apply(this,arguments)}}())}),[s]),Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{children:"Hist\xf3rico de pedidos"}),c?Object(I.jsx)(_,{}):a?Object(I.jsx)(C,{varient:"danger",children:a}):Object(I.jsxs)("table",{className:"table",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"ID"}),Object(I.jsx)("th",{children:"DATA"}),Object(I.jsx)("th",{children:"TOTAL"}),Object(I.jsx)("th",{children:"PAGO"}),Object(I.jsx)("th",{children:"ENTREGUE"}),Object(I.jsx)("th",{children:"A\xc7\xd5ES"})]})}),Object(I.jsx)("tbody",{children:n.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t._id}),Object(I.jsx)("td",{children:t.createdAt}),Object(I.jsxs)("td",{children:[" ",T(t.totalPrice)]}),Object(I.jsx)("td",{children:t.isPaid?t.paidAt.substring(0,10):"No"}),Object(I.jsx)("td",{children:t.isDelivered?t.deliveredAt.substring(0,10):"No"}),Object(I.jsx)("td",{children:Object(I.jsx)("button",{type:"button",className:"small",onClick:function(){e.history.push("/order/".concat(t._id))},children:"Detalhes"})})]},t._id)}))})]})]})}function Fe(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(""),s=Object(o.a)(n,2),l=s[0],d=s[1],j=Object(r.useState)(""),u=Object(o.a)(j,2),p=u[0],x=u[1],m=Object(r.useState)(""),v=Object(o.a)(m,2),g=v[0],f=v[1],y=Object(i.c)((function(e){return e.userSignin})).userInfo,N=Object(i.c)((function(e){return e.userDetails})),S=N.loading,E=N.error,w=N.user,P=Object(i.b)(),T=Object(i.c)((function(e){return e.userUpdateProfile})),A=T.success,D=T.error,k=T.loading;return Object(r.useEffect)((function(){var e;w?(a(w.name),d(w.email)):(P({type:he}),P((e=y._id,function(){var t=Object(h.a)(b.a.mark((function t(c,r){var a,n,s,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:oe,payload:e}),a=r(),n=a.userSignin.userInfo,t.prev=2,t.next=5,O.a.get("/api/users/".concat(e),{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:s=t.sent,i=s.data,c({type:le,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),c({type:se,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,c){return t.apply(this,arguments)}}())))}),[P,y._id,w]),Object(I.jsx)("div",{children:Object(I.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),p!==g?alert("Password and Confirm Password are not matched"):P(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(c,r){var a,n,s,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:je,payload:e}),a=r(),n=a.userSignin.userInfo,t.prev=2,t.next=5,O.a.put("/api/users/profile",e,{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:s=t.sent,i=s.data,c({type:ue,payload:i}),c({type:ce,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),c({type:se,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,c){return t.apply(this,arguments)}}()}({userId:w._id,name:c,email:l,password:p}))},children:[Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"Perfil"})}),S?Object(I.jsx)(_,{}):E?Object(I.jsx)(C,{variant:"danger",children:E}):Object(I.jsxs)(I.Fragment,{children:[k&&Object(I.jsx)(R,{}),D&&Object(I.jsx)(C,{variant:"danger",children:E}),A&&Object(I.jsx)(C,{variant:"success",children:"Perfil atualizado com sucesso!!"}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"name",children:"Nome"}),Object(I.jsx)("input",{id:"name",type:"text",placeholder:"Digite o seu nome",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"email",children:"Email"}),Object(I.jsx)("input",{id:"email",type:"email",placeholder:"Digite o seu endere\xe7o de email",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"password",children:"Senha"}),Object(I.jsx)("input",{id:"password",type:"password",placeholder:"Digite a sua senha",onChange:function(e){return x(e.target.password)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"confirmPassword",children:"Confirme a senha"}),Object(I.jsx)("input",{id:"confirmPassword",type:"confirmPassword",placeholder:"Digite a sua senha novamente",onChange:function(e){return f(e.target.confirmPassword)}})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{}),Object(I.jsx)("button",{className:"primary",type:"submit",children:"Salvar"})]})]})]})})}var Me=c(29);function qe(e){var t=e.component,c=Object(Me.a)(e,["component"]),r=Object(i.c)((function(e){return e.userSignin})).userInfo;return Object(I.jsx)("div",{children:Object(I.jsx)(d.b,Object(k.a)(Object(k.a)({},c),{},{render:function(e){return r?Object(I.jsx)(t,Object(k.a)({},e)):Object(I.jsx)(d.a,{to:"signin"})}}))})}var Qe=function(e){var t=e.href,c=e.iconName,r=e.children,a=Object(Me.a)(e,["href","iconName","children"]);return Object(I.jsxs)("div",Object(k.a)(Object(k.a)({className:"icon-link"},a),{},{children:[Object(I.jsx)("i",{className:c}),Object(I.jsx)(l.b,{to:t,children:r})]}))},Ge=[{name:"Todos",min:0,max:0},{name:"R$1 a R$10",min:1,max:10},{name:"R$10 a R$100",min:10,max:100},{name:"R$100 a R$1000",min:100,max:1e3}],$e=[{name:"5 estrelas & >",rating:5},{name:"4 estrelas & >",rating:4},{name:"3 estrelas & >",rating:3},{name:"2 estrelas & >",rating:2},{name:"1 estrelas & >",rating:1}];var ze=function(e){var t=Object(d.g)(),c=t.name,a=void 0===c?"all":c,n=t.category,s=void 0===n?"all":n,o=t.min,u=void 0===o?0:o,b=t.max,h=void 0===b?0:b,p=t.rating,O=void 0===p?0:p,x=t.order,m=void 0===x?"newest":x,v=t.pageNumber,g=void 0===v?1:v,f=Object(i.b)(),y=Object(i.c)((function(e){return e.productList})),N=y.loading,S=y.error,E=y.products,_=y.page,T=y.pages,A=Object(i.c)((function(e){return e.productCategoryList})),k=A.loading,L=A.error,U=A.categories;Object(r.useEffect)((function(){f(w({pageNumber:g,name:"all"!==a?a:"",category:"all"!==s?s:"",min:u,max:h,rating:O,order:m}))}),[s,f,h,u,a,m,g,O]);var F=function(e){var t=e.page||g,c=e.category||s,r=e.name||a,n=e.rating||O,i=e.order||m,o=e.min?e.min:0===e.min?0:u,l=e.max?e.max:0===e.max?0:h;return"/search/category/".concat(c,"/name/").concat(r,"/min/").concat(o,"/max/").concat(l,"/rating/").concat(n,"/order/").concat(i,"/pageNumber/").concat(t)};return Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"row",children:[N?Object(I.jsx)(R,{}):S?Object(I.jsx)(C,{variant:"danger",children:S}):Object(I.jsxs)("div",{className:"flex center space-1",children:[Object(I.jsxs)("div",{children:[E.length," resultados"]}),Object(I.jsx)("div",{className:"chip",children:Object(I.jsx)(l.b,{to:function(){return"/search/category/all/name/all/min/0/max/0/rating/all/order/all/pageNumber/1"},children:"Limpar"})})]}),Object(I.jsxs)("div",{children:["Ordenado por "," ",Object(I.jsxs)("select",{value:m,onChange:function(t){e.history.push(F({order:t.target.value}))},children:[Object(I.jsx)("option",{value:"newest",children:"Novidades"}),Object(I.jsx)("option",{value:"highest",children:"Pre\xe7o: alto"}),Object(I.jsx)("option",{value:"lowest",children:"Pre\xe7o: baixo"}),Object(I.jsx)("option",{value:"toprated",children:"M\xe9dia de reviews"})]})]})]}),Object(I.jsxs)("div",{className:"row top",children:[Object(I.jsxs)("div",{className:"col-1 paper filters-panel",children:[Object(I.jsxs)("div",{className:"pb-1",children:[Object(I.jsx)("h3",{className:"highlight",children:"Departamento"}),k?Object(I.jsx)(R,{}):L?Object(I.jsx)(C,{variant:"danger",children:L}):Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{className:"all"===s?"active":"",to:F({category:"all"}),children:"Todos"})}),U.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{className:e===s?"active":"",to:F({category:e}),children:e})},e)}))]})]}),Object(I.jsxs)("div",{className:"pb-1",children:[Object(I.jsx)("h3",{className:"highlight",children:"Pre\xe7o"}),Object(I.jsx)("ul",{children:Ge.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{to:F({min:e.min,max:e.max}),className:"".concat(e.min,"-").concat(e.max)==="".concat(u,"-").concat(h)?"active":"",children:e.name})},e.name)}))})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{className:"highlight",children:"M\xe9dia de reviews"}),Object(I.jsx)("ul",{children:$e.map((function(e,t){return Object(I.jsx)("li",{children:Object(I.jsxs)(l.b,{to:F({rating:e.rating}),className:"".concat(e.rating)==="".concat(O)?"active":"",children:[Object(I.jsx)(P,{showNumReviews:!1,rating:e.rating})," e acima"]})},t)}))})]})]}),Object(I.jsx)("div",{className:"col-3",children:N?Object(I.jsx)(R,{}):S?Object(I.jsx)(C,{variant:"danger",children:S}):Object(I.jsxs)(I.Fragment,{children:[0===E.length&&Object(I.jsx)(C,{children:"Nenhum produto encontrado!"}),Object(I.jsx)("div",{className:"row center",children:E.map((function(e){return Object(I.jsx)(D,{product:e},e._id)}))}),Object(I.jsx)("div",{className:"row center pagination",children:Object(j.a)(Array(T).keys()).map((function(e){return Object(I.jsx)(l.b,{className:e+1===_?"active":"",to:F({page:e+1}),children:e+1},e+1)}))})]})})]})]})};var Be=function(e){var t=e.show,c=e.handleShow,r=Object(i.c)((function(e){return e.userSignin})).userInfo;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:t&&"backdrop",onClick:c}),Object(I.jsxs)("div",{className:"flex column side-drawer ".concat(t&&"open"),children:[Object(I.jsxs)("div",{className:"header flex justify-between",children:[Object(I.jsxs)("h3",{children:["Ol\xe1,",r?Object(I.jsx)("span",{children:" ".concat(r.name)}):Object(I.jsx)(l.b,{to:"/signin",onClick:c,children:"Fa\xe7a seu login"})]}),Object(I.jsx)("div",{className:"close",onClick:c,children:Object(I.jsx)("i",{className:"fas fa-times"})})]}),Object(I.jsxs)("div",{className:"flex column p-3",children:[Object(I.jsx)(l.b,{to:"/search/category/livros",onClick:c,children:"Livros"}),Object(I.jsx)(l.b,{to:"/search/category/hqs",onClick:c,children:"HQs"}),Object(I.jsx)(l.b,{to:"/search/category/mang\xe1s",onClick:c,children:"Mang\xe1s"}),Object(I.jsx)("div",{className:"flex column none sm-up",children:Object(I.jsxs)("div",{className:"flex column",children:[Object(I.jsx)(l.b,{to:"/cart",onClick:c,children:"Carrinho"}),r&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(l.b,{to:"/orderhistory",onClick:c,children:"Hist\xf3rico"}),Object(I.jsx)(l.b,{to:"/signout",onClick:c,children:"Sair"})]})]})})]})]})]})};var Je=function(e){var t=e.show,c=e.handleShow,a=Object(d.f)(),n=Object(r.useState)(""),s=Object(o.a)(n,2),i=s[0],l=s[1];return Object(I.jsx)("div",{className:"panel ".concat(t&&"active"),children:Object(I.jsxs)("div",{className:"search-accordion",children:[Object(I.jsx)("input",{type:"text",value:i,onChange:function(e){return l(e.target.value)}}),Object(I.jsx)("button",{onClick:function(){a.push("/search/name/".concat(i)),c(),l("")},children:"Buscar"})]})})};var Ye=function(){var e=Object(i.c)((function(e){return e.cart})).cartItems,t=Object(i.c)((function(e){return e.userSignin})).userInfo,c=Object(i.b)();Object(r.useEffect)((function(){c(function(){var e=Object(h.a)(b.a.mark((function e(t){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:N}),e.prev=1,e.next=4,O.a.get("/api/products/categories");case 4:c=e.sent,r=c.data,t({type:S,payload:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.message),t({type:E,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[c]);var a=Object(r.useState)(!1),n=Object(o.a)(a,2),s=n[0],j=n[1],u=Object(r.useState)(!1),p=Object(o.a)(u,2),x=p[0],m=p[1],v=function(){j(!s)},g=function(){m(!x)};return Object(I.jsxs)(l.a,{children:[Object(I.jsx)(B.a,{children:Object(I.jsx)("title",{children:"Livros, HQs e mang\xe1s | scomics"})}),Object(I.jsxs)("div",{className:"grid-container",children:[Object(I.jsx)(Be,{show:s,handleShow:v}),Object(I.jsxs)("header",{className:"row",children:[Object(I.jsxs)("div",{className:"flex w-220",children:[Object(I.jsx)(Qe,{href:"#",iconName:"fas fa-bars",onClick:v,children:"Menu"}),Object(I.jsx)("div",{className:"sm-down",children:Object(I.jsx)(Qe,{href:"#",iconName:"fas fa-search",onClick:g,children:"Buscar"})})]}),Object(I.jsx)("div",{children:Object(I.jsx)(l.b,{className:"brand",to:"/",children:"Scomics"})}),Object(I.jsx)("div",{className:"none sm-up",children:Object(I.jsx)(Qe,{href:"#",iconName:"fas fa-search",onClick:g,children:"Buscar"})}),Object(I.jsxs)("div",{className:"flex w-220 sm-down flex-end",children:[Object(I.jsxs)(Qe,{href:"/cart",iconName:"fas fa-shopping-cart",children:["Carrinho",e.length>0&&Object(I.jsx)("span",{className:"badge",children:e.length})]}),t?Object(I.jsxs)("div",{className:"dropdown",children:[Object(I.jsxs)(Qe,{href:"#",iconName:"fas fa-user",children:[t.name," ",Object(I.jsx)("i",{className:"fa fa-caret-down"})]}),Object(I.jsxs)("ul",{className:"dropdown-content",children:[Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{to:"/profile",children:"Perfil"})}),Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{to:"/orderhistory",children:"Hist\xf3rico"})}),Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{to:"#signout",onClick:function(){c((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),e({type:ie})}))},children:"Sair"})})]})]}):Object(I.jsx)(Qe,{href:"/signin",iconName:"fas fa-door-open",children:"Entrar"}),t&&t.isAdmin&&Object(I.jsxs)("div",{className:"dropdown",children:[Object(I.jsxs)(l.b,{to:"#admin",children:["Admin ",Object(I.jsx)("i",{className:"fa fa-caret-down"})]}),Object(I.jsxs)("ul",{className:"dropdown-content",children:[Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{to:"/dashboard",children:"Dashboard"})}),Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{to:"/productList",children:"Products"})}),Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{to:"/dashboard",children:"Orders"})}),Object(I.jsx)("li",{children:Object(I.jsx)(l.b,{to:"/userlist",children:"Users"})})]})]})]})]}),Object(I.jsxs)("main",{children:[Object(I.jsx)(Je,{show:x,handleShow:g}),Object(I.jsxs)("div",{className:"container-main",children:[Object(I.jsx)(d.b,{path:"/signin",component:pe}),Object(I.jsx)(d.b,{path:"/register",component:Oe}),Object(I.jsx)(d.b,{path:"/cart/:id?",component:ee}),Object(I.jsx)(d.b,{path:"/product/:id",component:A}),Object(I.jsx)(d.b,{path:"/shipping",component:me,exact:!0}),Object(I.jsx)(d.b,{path:"/payment",component:ve,exact:!0}),Object(I.jsx)(d.b,{path:"/placeorder",component:De,exact:!0}),Object(I.jsx)(d.b,{path:"/order/:id",component:Le}),Object(I.jsx)(d.b,{path:"/orderhistory",component:Ue,exact:!0}),Object(I.jsx)(d.b,{path:"/search/name/:name?",component:ze,exact:!0}),Object(I.jsx)(d.b,{path:"/search/category/:category",component:ze,exact:!0}),Object(I.jsx)(d.b,{path:"/search/category/:category/name/:name",component:ze,exact:!0}),Object(I.jsx)(d.b,{path:"/search/category/:category/name/:name/min/:min/max/:max/rating/:rating/order/:order/pageNumber/:pageNumber",component:ze,exact:!0}),Object(I.jsx)(qe,{path:"/profile",component:Fe,exact:!0}),Object(I.jsx)(d.b,{path:"/",component:J,exact:!0})]})]}),Object(I.jsx)("footer",{className:"row center",children:"\xa9Scomics"})]})]})},He=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,94)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))},Ve=c(23),Xe=c(48),Ke={userSignin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:"PayPal"}},We=Object(Ve.b)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case m:return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case v:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{},loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case f:return{loading:!1,product:t.payload};case y:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return console.log(r),r?Object(k.a)(Object(k.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(k.a)(Object(k.a)({},e),{},{cartItems:[].concat(Object(j.a)(e.cartItems),[c])});case H:return Object(k.a)(Object(k.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case V:return Object(k.a)(Object(k.a)({},e),{},{shippingAddress:t.payload});case X:return Object(k.a)(Object(k.a)({},e),{},{paymentMethod:t.payload});case K:return Object(k.a)(Object(k.a)({},e),{},{cartItems:[]});default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case ce:return{loading:!1,userInfo:t.payload};case re:return{loading:!1,error:t.payload};case ie:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case ne:return{loading:!1,userInfo:t.payload};case se:return{loading:!1,error:t.payload};case ie:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return{loading:!0};case fe:return{loading:!1,success:!0,order:t.payload};case ye:return{loading:!1,error:t.payload};case Ne:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return{loading:!0};case _e:return{loading:!1,order:t.payload};case Ce:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return{loading:!0};case Ee:return{laoding:!1,success:!0};case we:return{loading:!1,error:t.payload};case Ie:return{};default:return e}},orderMineList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return{loading:!0};case Te:return{loading:!1,orders:t.payload};case Ae:return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0};case le:return{loading:!1,user:t.payload};case de:return{loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return{loading:!0};case ue:return{loading:!1,success:!0};case be:return{loading:!1,error:t.payload};case he:return{};default:return e}},productCategoryList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case S:return{loading:!1,categories:t.payload};case E:return{loading:!1,error:t.payload};default:return e}}}),Ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE||Ve.c,et=Object(Ve.d)(We,Ke,Ze(Object(Ve.a)(Xe.a)));c(92);s.a.render(Object(I.jsx)(i.a,{store:et,children:Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(Ye,{})})}),document.getElementById("root")),He()}},[[93,1,2]]]);
//# sourceMappingURL=main.2003ad32.chunk.js.map